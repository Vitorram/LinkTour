<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel Admin â€” LinkTour</title>
<style>
  body{font-family:Arial,sans-serif;background:#f4f6f8;margin:0;padding:20px;display:flex;justify-content:center;align-items:flex-start;min-height:100vh}
  .card{background:#fff;padding:20px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,.06);width:100%;max-width:500px;text-align:center}
  h1{margin-bottom:15px}
  input[type="password"]{width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;margin-bottom:12px;box-sizing:border-box}
  button{width:100%;padding:10px;border-radius:8px;border:none;background:#e60050;color:#fff;font-weight:600;cursor:pointer}
  #output{margin-top:14px;background:#f7f7f8;padding:12px;border-radius:8px;max-height:320px;overflow:auto;font-family:monospace;text-align:left}
  #count{margin-top:8px;font-weight:600;text-align:right}
  #btn-logout{background:#ccc;color:#000;margin-bottom:12px}
</style>
</head>
<body>
<div class="card">
  <h1>Admin Login</h1>
  <div id="login-area">
    <input id="admin-pass" type="password" placeholder="Digite a senha de admin">
    <button id="btn-login">Entrar</button>
  </div>

  <div id="panel" style="display:none">
    <button id="btn-logout">Logout</button>
    <div id="count">Total de emails: 0</div>
    <pre id="output">Nenhum registro carregado.</pre>
  </div>
</div>

<script>
const ADMIN_PASSWORD = "linktouLTDA";

const $login = document.getElementById('login-area');
const $panel = document.getElementById('panel');
const $output = document.getElementById('output');
const $count = document.getElementById('count');
const $pass = document.getElementById('admin-pass');
const $btnLogin = document.getElementById('btn-login');
const $btnLogout = document.getElementById('btn-logout');

$btnLogin.addEventListener('click', () => {
  if($pass.value === ADMIN_PASSWORD){
    localStorage.setItem('linktour_admin_logged','1');
    showPanel();
    loadEmails();
  } else {
    alert('Senha incorreta');
    $pass.value='';
  }
});

$btnLogout.addEventListener('click', () => {
  localStorage.removeItem('linktour_admin_logged');
  $panel.style.display='none';
  $login.style.display='block';
  $output.textContent='Nenhum registro carregado.';
  $count.textContent='Total de emails: 0';
  $pass.value='';
});

function showPanel(){
  $login.style.display='none';
  $panel.style.display='block';
}

if(localStorage.getItem('linktour_admin_logged')==='1'){
  showPanel();
  loadEmails();
}

// carrega emails de todos os cadastros
function loadEmails(){
  const emails = [];
  const storedEmail = localStorage.getItem('email');
  if(storedEmail) emails.push(storedEmail);
  
  $output.textContent = emails.join('\n');
  $count.textContent = 'Total de emails: ' + emails.length;
}
</script>
</body>
</html>
